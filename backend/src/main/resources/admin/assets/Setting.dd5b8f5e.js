import{g as e,c as l,a,p as t}from"./http.c8a04791.js";import{_ as o}from"./ImgDrawer.2905be4e.js";import{c as i}from"./Common.e16055f9.js";import{d as s,t as n,v as d,r as c,G as r,E as m,h as u,o as p,c as f,b as g,u as y,F as h,K as v,I as V,q as b,p as x,s as w,a as C,x as k}from"./vendor.7ce22028.js";import"./index.455f64ef.js";import"./FullScreen.6c2fcf19.js";const S=b();x("data-v-c99f5cce");const U={class:"indexContainer"},$={class:"common-setting"},_={class:"item"},T=g("h1",null,"博客标题",-1),A={class:"item"},j=g("h1",null,"首页文章",-1),M={class:"logo-img item"},N={class:"logo"},P=g("h1",null,"Logo",-1),I={class:"img"},L=g("h1",null,"首页图片",-1),E={class:"item color"},F=g("h1",null,"首页色系",-1),H={class:"show-box"},D={class:"item"},q=g("h1",null,"页脚信息",-1),B=w("保存"),O={class:"smtp"},G={class:"item"},K=g("h1",null,"SMTP地址",-1),z={class:"item"},J=g("h1",null,"SSL端口",-1),Q={class:"item"},R=g("h1",null,"邮箱账号",-1),W={class:"item"},X=g("h1",null,"邮箱密码或授权码",-1),Y={class:"item"},Z=g("h1",null,"发送人",-1),ee=w("保存"),le={class:"comment"},ae={class:"item"},te=g("h1",null,"评论需要审核",-1),oe={class:"item"},ie=g("h1",null,"新评论通知",-1),se={class:"item"},ne=g("h1",null,"评论回复通知对方",-1),de=w("保存"),ce={class:"other"},re={class:"item"},me={class:"about"},ue=g("h1",null,"关于",-1),pe=w("去编辑"),fe={class:"root"};C();var ge=s({expose:[],setup(b){const{proxy:x}=k();s({ImgDrawer:o});const w=n();d((()=>{!async function(){const l=await e("/setting/getCommonSetting");if(200==l.code){const e=l.data;i(e,ye),be.push({id:e.indexArticle.id,label:e.indexArticle.title})}else x.$notify({title:"出差啦😢！",message:l.msg,type:"error"})}(),async function(){const l=await e("/setting/getSMTPSetting");if(200==l.code){const e=l.data;Object.keys(e).forEach(((l,a)=>{Ue[l]=e[l]}))}else x.$notify({title:"出差啦😢！",message:l.msg,type:"error"})}(),async function(){const l=await e("/setting/getCommentSetting");if(200==l.code){const e=l.data;Object.keys(e).forEach(((l,a)=>{_e[l]=e[l]}))}else x.$notify({title:"出差啦😢！",message:l.msg,type:"error"})}(),w.query.toForth&&(ge.value="4")}));let C=c(0),ge=c("1"),ye=r({indexArticle:{id:"",title:""}}),he=r({borderBottom:"500vh solid rgba(45, 37, 73, 0.7)"});m((()=>ye.indexColor),(()=>{he.borderBottom=`500vh solid ${ye.indexColor}`}));let ve,Ve=c(!1),be=r([]);async function xe(e){Ve.value=!0;const a=await l(`/frontend/search/getSuggestions?queryString=${e}`);if(200==a.code){be.length=1;a.data.forEach(((e,l)=>{be[0].id!=e.id&&be.push({id:e.id,label:e.title})})),Ve.value=!1}else x.$notify({title:"出差啦😢！",message:a.msg,type:"error"})}function we(){C.value++,ve="logo"}function Ce(){C.value++,ve="poster"}function ke(e){ye[ve]=e}async function Se(){const e=await t("/setting/saveCommon",ye);200==e.code?x.$notify({title:"成功",message:"保存成功!",type:"success"}):x.$notify({title:"出差啦😢！",message:e.msg,type:"error"})}m((()=>ye.indexArticle.id),(e=>{be.forEach((l=>{l.id==e&&(ye.indexArticle.title=l.label)}))}));let Ue=r({});async function $e(){const e=await t("/setting/saveSMTP",Ue);200==e.code?x.$notify({title:"成功",message:"保存成功!",type:"success"}):x.$notify({title:"出差啦😢！",message:e.msg,type:"error"})}let _e=r({});async function Te(){const e=await t("/setting/saveComment",_e);200==e.code?x.$notify({title:"成功",message:"保存成功!",type:"success"}):x.$notify({title:"出差啦😢！",message:e.msg,type:"error"})}let Ae=r({});return d((async()=>{const e=await l("/frontend/article/get?id=1");200==e.code&&i(e.data,Ae)})),(e,l)=>{const t=u("el-input"),i=u("el-option"),s=u("el-select"),n=u("el-color-picker"),d=u("el-button"),c=u("el-tab-pane"),r=u("el-switch"),m=u("el-tabs");return p(),f("div",U,[g(m,{modelValue:y(ge),"onUpdate:modelValue":l[14]||(l[14]=e=>V(ge)?ge.value=e:ge=e)},{default:S((()=>[g(c,{label:"常规设置",name:"1"},{default:S((()=>[g("div",$,[g("div",_,[T,g(t,{modelValue:y(ye).blogTitle,"onUpdate:modelValue":l[1]||(l[1]=e=>y(ye).blogTitle=e),placeholder:"请输入内容"},null,8,["modelValue"])]),g("div",A,[j,g(s,{modelValue:y(ye).indexArticle.id,"onUpdate:modelValue":l[2]||(l[2]=e=>y(ye).indexArticle.id=e),filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":xe,loading:y(Ve)},{default:S((()=>[(p(!0),f(h,null,v(y(be),(e=>(p(),f(i,{key:e.id,label:e.label,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading"])]),g("div",M,[g("div",N,[P,g("img",{src:y(a)(y(ye).logo),onClick:we,alt:""},null,8,["src"])]),g("div",I,[L,g("img",{src:y(a)(y(ye).poster),onClick:Ce,alt:""},null,8,["src"])])]),g("div",E,[F,g(n,{modelValue:y(ye).indexColor,"onUpdate:modelValue":l[3]||(l[3]=e=>y(ye).indexColor=e),"show-alpha":"",class:"color-picker"},null,8,["modelValue"]),g("div",H,[g("div",{class:"triangle",style:y(he)},null,4),g("img",{src:y(a)(y(ye).poster),alt:""},null,8,["src"])])]),g("div",D,[q,g(t,{type:"textarea",rows:2,placeholder:"可以填入HTML",modelValue:y(ye).footInfo,"onUpdate:modelValue":l[4]||(l[4]=e=>y(ye).footInfo=e)},null,8,["modelValue"])]),g(d,{type:"primary",onClick:Se},{default:S((()=>[B])),_:1})])])),_:1}),g(c,{label:"SMTP设置",name:"2"},{default:S((()=>[g("div",O,[g("div",G,[K,g(t,{modelValue:y(Ue).emailHostName,"onUpdate:modelValue":l[5]||(l[5]=e=>y(Ue).emailHostName=e),placeholder:"请输入SMTP地址"},null,8,["modelValue"])]),g("div",z,[J,g(t,{modelValue:y(Ue).sslPort,"onUpdate:modelValue":l[6]||(l[6]=e=>y(Ue).sslPort=e),placeholder:"请输入SSL端口"},null,8,["modelValue"])]),g("div",Q,[R,g(t,{modelValue:y(Ue).emailFrom,"onUpdate:modelValue":l[7]||(l[7]=e=>y(Ue).emailFrom=e),placeholder:"请输入邮箱账号"},null,8,["modelValue"])]),g("div",W,[X,g(t,{modelValue:y(Ue).emailAuthentication,"onUpdate:modelValue":l[8]||(l[8]=e=>y(Ue).emailAuthentication=e),placeholder:"请输入邮箱密码或授权码"},null,8,["modelValue"])]),g("div",Y,[Z,g(t,{modelValue:y(Ue).senderName,"onUpdate:modelValue":l[9]||(l[9]=e=>y(Ue).senderName=e),placeholder:"请输入发送人"},null,8,["modelValue"])]),g(d,{type:"primary",onClick:$e},{default:S((()=>[ee])),_:1})])])),_:1}),g(c,{label:"评论设置",name:"3"},{default:S((()=>[g("div",le,[g("div",ae,[te,g(r,{modelValue:y(_e).examination,"onUpdate:modelValue":l[10]||(l[10]=e=>y(_e).examination=e)},null,8,["modelValue"])]),g("div",oe,[ie,g(r,{modelValue:y(_e).newCommentNotification,"onUpdate:modelValue":l[11]||(l[11]=e=>y(_e).newCommentNotification=e)},null,8,["modelValue"])]),g("div",se,[ne,g(r,{modelValue:y(_e).replayNotification,"onUpdate:modelValue":l[12]||(l[12]=e=>y(_e).replayNotification=e)},null,8,["modelValue"])]),g(d,{type:"primary",onClick:Te,style:{"margin-top":"30px"}},{default:S((()=>[de])),_:1})])])),_:1}),g(c,{label:"关于页面",name:"4"},{default:S((()=>[g("div",ce,[g("div",re,[g("div",me,[ue,g(d,{type:"primary",onClick:l[13]||(l[13]=l=>e.$router.push("/index/article?id=1")),round:""},{default:S((()=>[pe])),_:1})]),g("div",fe,[g("article",{class:"markdown-body",id:"markdown",innerHTML:y(Ae).content},null,8,["innerHTML"])])])])])),_:1})])),_:1},8,["modelValue"]),g(o,{isDrawer:y(C),onClickCallback:ke},null,8,["isDrawer"])])}}});ge.__scopeId="data-v-c99f5cce";export default ge;
